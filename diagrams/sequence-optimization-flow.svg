<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2315px" preserveAspectRatio="none" style="width:1536px;height:2315px;background:#003153;" version="1.1" viewBox="0 0 1536 2315" width="1536px" zoomAndPan="magnify"><title>Flujo 2: Generaci&#243;n de Recomendaciones de Optimizaci&#243;n</title><defs/><g><rect fill="#003153" height="2315" style="stroke:transparent;stroke-width:1;" width="1536" x="0" y="0"/><text fill="#D9D3D0" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="714.5596" x="409.6272" y="37.1182">Flujo 2: Generaci&#243;n de Recomendaciones de Optimizaci&#243;n</text><g><title>API</title><rect fill="#003153" height="1866.7412" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="443.3232" y="293.3765"/></g><g><title>PostgreSQL</title><rect fill="#003153" height="334.9897" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="901.8799" y="418.5737"/></g><g><title>PostgreSQL</title><rect fill="#003153" height="160.3945" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="901.8799" y="1805.3286"/></g><g><title>Timefold</title><rect fill="#003153" height="793.9727" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="1014.8579" y="921.958"/></g><g><title>Web</title><rect fill="#003153" height="97.1973" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="1338.9395" y="2027.1211"/></g><g><title>Trigger</title><rect fill="transparent" height="2117.9351" width="8" x="171.1016" y="118.7813"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="175" x2="175" y1="118.7813" y2="2236.7163"/></g><g><title>API</title><rect fill="transparent" height="2117.9351" width="8" x="444.3232" y="118.7813"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="447.4365" x2="447.4365" y1="118.7813" y2="2236.7163"/></g><g><title>PostgreSQL</title><rect fill="transparent" height="2117.9351" width="8" x="902.8799" y="118.7813"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="906.2949" x2="906.2949" y1="118.7813" y2="2236.7163"/></g><g><title>Timefold</title><rect fill="transparent" height="2117.9351" width="8" x="1015.8579" y="118.7813"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1019.4648" x2="1019.4648" y1="118.7813" y2="2236.7163"/></g><g><title>Web</title><rect fill="transparent" height="2117.9351" width="8" x="1339.9395" y="118.7813"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1343.3813" x2="1343.3813" y1="118.7813" y2="2236.7163"/></g><rect fill="#003153" height="48.0293" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="64.2031" x="143" y="69.752"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="50.2031" x="150" y="90.8271">Trigger</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="48.5352" x="150.834" y="107.8418">Source</text><rect fill="#003153" height="48.0293" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="64.2031" x="143" y="2235.7163"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="50.2031" x="150" y="2256.7915">Trigger</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="48.5352" x="150.834" y="2273.8062">Source</text><rect fill="#003153" height="48.0293" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="73.7734" x="411.4365" y="69.752"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="23.9053" x="436.3706" y="90.8271">API</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.7734" x="418.4365" y="107.8418">Function</text><rect fill="#003153" height="48.0293" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="73.7734" x="411.4365" y="2235.7163"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="23.9053" x="436.3706" y="2256.7915">API</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.7734" x="418.4365" y="2273.8062">Function</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.1699" x="863.2949" y="115.8418">PostgreSQL</text><path d="M888.8799,65.7666 C888.8799,55.7666 906.8799,55.7666 906.8799,55.7666 C906.8799,55.7666 924.8799,55.7666 924.8799,65.7666 L924.8799,91.7666 C924.8799,101.7666 906.8799,101.7666 906.8799,101.7666 C906.8799,101.7666 888.8799,101.7666 888.8799,91.7666 L888.8799,65.7666 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1.5;"/><path d="M888.8799,65.7666 C888.8799,75.7666 906.8799,75.7666 906.8799,75.7666 C906.8799,75.7666 924.8799,75.7666 924.8799,65.7666 " fill="transparent" style="stroke:#D9D3D0;stroke-width:1.5;"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.1699" x="863.2949" y="2249.7915">PostgreSQL</text><path d="M888.8799,2262.731 C888.8799,2252.731 906.8799,2252.731 906.8799,2252.731 C906.8799,2252.731 924.8799,2252.731 924.8799,2262.731 L924.8799,2288.731 C924.8799,2298.731 906.8799,2298.731 906.8799,2298.731 C906.8799,2298.731 888.8799,2298.731 888.8799,2288.731 L888.8799,2262.731 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1.5;"/><path d="M888.8799,2262.731 C888.8799,2272.731 906.8799,2272.731 906.8799,2272.731 C906.8799,2272.731 924.8799,2272.731 924.8799,2262.731 " fill="transparent" style="stroke:#D9D3D0;stroke-width:1.5;"/><rect fill="#003153" height="65.0439" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="98.7861" x="970.4648" y="52.7373"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60.4092" x="989.6533" y="73.8125">Timefold</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="47.4756" x="996.1201" y="90.8271">Engine</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84.7861" x="977.4648" y="107.8418">(Cloud Run)</text><rect fill="#003153" height="65.0439" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="98.7861" x="970.4648" y="2235.7163"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60.4092" x="989.6533" y="2256.7915">Timefold</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="47.4756" x="996.1201" y="2273.8062">Engine</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84.7861" x="977.4648" y="2290.8208">(Cloud Run)</text><rect fill="#003153" height="48.0293" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="91.1162" x="1298.3813" y="69.752"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="30.9053" x="1328.4868" y="90.8271">Web</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.1162" x="1305.3813" y="107.8418">Application</text><rect fill="#003153" height="48.0293" rx="2.5" ry="2.5" style="stroke:#D9D3D0;stroke-width:1;" width="91.1162" x="1298.3813" y="2235.7163"/><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="30.9053" x="1328.4868" y="2256.7915">Web</text><text fill="#D9D3D0" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.1162" x="1305.3813" y="2273.8062">Application</text><g><title>API</title><rect fill="#003153" height="1866.7412" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="443.3232" y="293.3765"/></g><g><title>PostgreSQL</title><rect fill="#003153" height="334.9897" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="901.8799" y="418.5737"/></g><g><title>PostgreSQL</title><rect fill="#003153" height="160.3945" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="901.8799" y="1805.3286"/></g><g><title>Timefold</title><rect fill="#003153" height="793.9727" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="1014.8579" y="921.958"/></g><g><title>Web</title><rect fill="#003153" height="97.1973" style="stroke:#D9D3D0;stroke-width:1;" width="10" x="1338.9395" y="2027.1211"/></g><rect fill="#003153" height="3" style="stroke:#003153;stroke-width:1;" width="1524.814" x="5" y="149.6809"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="149.6809" y2="149.6809"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="152.6809" y2="152.6809"/><rect fill="#003153" height="23.7993" style="stroke:#D9D3D0;stroke-width:1;" width="289.6025" x="622.6057" y="138.7813"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="271.1592" x="628.6057" y="155.8511">Activaci&#243;n del Motor de Optimizaci&#243;n</text><path d="M10,177.5806 L10,250.5806 L340,250.5806 L340,187.5806 L330,177.5806 L10,177.5806 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M330,177.5806 L330,187.5806 L340,187.5806 L330,177.5806 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="252.3003" x="16" y="195.6504">El motor puede activarse de 3 formas:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="12.9937" x="16" y="211.4497">1.</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="83.5796" x="33.564" y="211.4497">Autom&#225;tico</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="208.4507" x="117.1436" y="211.4497">: Tras ingesta de PDFs (Flujo 1)</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="12.9937" x="16" y="227.249">2.</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="52.6538" x="33.564" y="227.249">Manual</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.6279" x="86.2178" y="227.249">: Solicitud de operador (Flujo 3)</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="12.9937" x="16" y="243.0483">3.</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="68.0977" x="33.564" y="243.0483">Peri&#243;dico</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="212.5322" x="101.6616" y="243.0483">: Cloud Scheduler (programado)</text><polygon fill="#D9D3D0" points="431.3232,289.3765,441.3232,293.3765,431.3232,297.3765,435.3232,293.3765" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="175.1016" x2="437.3232" y1="293.3765" y2="293.3765"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.4111" x="221.5068" y="272.8477">POST /trigger-optimization</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="249.2217" x="184.6016" y="288.647">{"reason": "auto|manual|scheduled"}</text><path d="M358,306.3765 L358,347.3765 L537,347.3765 L537,316.3765 L527,306.3765 L358,306.3765 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M527,306.3765 L527,316.3765 L537,316.3765 L527,306.3765 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158.2788" x="364" y="324.4463">API Backend coordina el</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.6885" x="364" y="340.2456">proceso de optimizaci&#243;n</text><rect fill="#003153" height="3" style="stroke:#003153;stroke-width:1;" width="1524.814" x="5" y="373.8748"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="373.8748" y2="373.8748"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="376.8748" y2="376.8748"/><rect fill="#003153" height="23.7993" style="stroke:#D9D3D0;stroke-width:1;" width="203.0586" x="665.8777" y="362.9751"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="184.6152" x="671.8777" y="380.0449">Recopilaci&#243;n de Contexto</text><polygon fill="#D9D3D0" points="889.8799,414.5737,899.8799,418.5737,889.8799,422.5737,893.8799,418.5737" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="895.8799" y1="418.5737" y2="418.5737"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="228.833" x="563.1851" y="413.8442">SELECT &#243;rdenes export pendientes</text><polygon fill="#D9D3D0" points="464.3232,460.1724,454.3232,464.1724,464.3232,468.1724,460.3232,464.1724" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="900.8799" y1="464.1724" y2="464.1724"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="133.7705" x="610.7163" y="443.6436">Lista &#243;rdenes export</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="390.146" x="482.5286" y="459.4429">[{id, cliente, ubicaci&#243;n, tipo_contenedor, fecha_l&#237;mite, ...}]</text><polygon fill="#D9D3D0" points="889.8799,521.5703,899.8799,525.5703,889.8799,529.5703,893.8799,525.5703" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="895.8799" y1="525.5703" y2="525.5703"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="269.9595" x="542.6218" y="489.2422">SELECT contenedores vac&#237;os disponibles:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="356.4844" x="499.3594" y="505.0415">- En terminales (Barcelona, Noain, Agoncillo, Miranda)</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="261.936" x="546.6335" y="520.8408">- Post-import en ubicaciones de clientes</text><polygon fill="#D9D3D0" points="464.3232,567.1689,454.3232,571.1689,464.3232,575.1689,460.3232,571.1689" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="900.8799" y1="571.1689" y2="571.1689"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="194.2065" x="580.4983" y="550.6401">Stock de contenedores vac&#237;os</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="278.1035" x="538.5498" y="566.4395">[{id, tipo, ubicaci&#243;n, estado, naviera, ...}]</text><polygon fill="#D9D3D0" points="889.8799,612.7676,899.8799,616.7676,889.8799,620.7676,893.8799,616.7676" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="895.8799" y1="616.7676" y2="616.7676"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204.1724" x="575.5154" y="596.2388">SELECT ubicaciones de clientes</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.4956" x="606.8538" y="612.0381">con coordenadas GPS</text><polygon fill="#D9D3D0" points="464.3232,658.3662,454.3232,662.3662,464.3232,666.3662,460.3232,662.3662" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="900.8799" y1="662.3662" y2="662.3662"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="164.2139" x="595.4946" y="641.8374">Coordenadas geogr&#225;ficas</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="236.7422" x="559.2305" y="657.6367">[{cliente_id, lat, lon, direcci&#243;n, ...}]</text><polygon fill="#D9D3D0" points="889.8799,703.9648,899.8799,707.9648,889.8799,711.9648,893.8799,707.9648" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="895.8799" y1="707.9648" y2="707.9648"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="236.1772" x="559.5129" y="687.436">SELECT par&#225;metros de optimizaci&#243;n</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.1455" x="572.5288" y="703.2354">(pesos, restricciones, umbrales)</text><polygon fill="#D9D3D0" points="464.3232,749.5635,454.3232,753.5635,464.3232,757.5635,460.3232,753.5635" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="905.8799" y1="753.5635" y2="753.5635"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="196.4409" x="581.8811" y="733.0347">Configuraci&#243;n de optimizaci&#243;n</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="424.5566" x="467.8232" y="748.834">{peso_coste, peso_tiempo, peso_co2, radio_matching_max, ...}</text><rect fill="#003153" height="3" style="stroke:#003153;stroke-width:1;" width="1524.814" x="5" y="782.4631"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="782.4631" y2="782.4631"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="785.4631" y2="785.4631"/><rect fill="#003153" height="23.7993" style="stroke:#D9D3D0;stroke-width:1;" width="240.478" x="647.168" y="771.5635"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="222.0347" x="653.168" y="788.6333">Invocaci&#243;n del Motor Timefold</text><polygon fill="#D9D3D0" points="1002.8579,917.958,1012.8579,921.958,1002.8579,925.958,1006.8579,921.958" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="1008.8579" y1="921.958" y2="921.958"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100.9087" x="683.6362" y="822.4326">POST /optimize</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="8.252" x="729.9646" y="838.2319">{</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143.584" x="666.8689" y="854.0313">ordenes_export: [...],</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="177.7471" x="649.7874" y="869.8306">contenedores_vacios: [...],</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.3418" x="677.99" y="885.6299">ubicaciones: {...},</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.1494" x="680.5862" y="901.4292">parametros: {...}</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="8.252" x="729.9646" y="917.2285">}</text><path d="M1029,934.958 L1029,991.958 L1194,991.958 L1194,944.958 L1184,934.958 L1029,934.958 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M1184,934.958 L1184,944.958 L1194,944.958 L1184,934.958 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.3774" x="1035" y="953.0278">Motor de optimizaci&#243;n</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.4844" x="1035" y="968.8271">constraint-based</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129.4541" x="1035" y="984.6265">con Timefold Solver</text><line style="stroke:#D9D3D0;stroke-width:1;" x1="1024.8579" x2="1066.8579" y1="1066.5532" y2="1066.5532"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1066.8579" x2="1066.8579" y1="1066.5532" y2="1079.5532"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1025.8579" x2="1066.8579" y1="1079.5532" y2="1079.5532"/><polygon fill="#D9D3D0" points="1035.8579,1075.5532,1025.8579,1079.5532,1035.8579,1083.5532,1031.8579,1079.5532" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="179.9497" x="1031.8579" y="1014.4258">Construcci&#243;n del problema:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.9004" x="1047.8826" y="1030.2251">- Variables de decisi&#243;n</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="118.0981" x="1062.7837" y="1046.0244">- Hard constraints</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.3438" x="1065.1609" y="1061.8237">- Soft constraints</text><line style="stroke:#D9D3D0;stroke-width:1;" x1="1024.8579" x2="1066.8579" y1="1204.1484" y2="1204.1484"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1066.8579" x2="1066.8579" y1="1204.1484" y2="1217.1484"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1025.8579" x2="1066.8579" y1="1217.1484" y2="1217.1484"/><polygon fill="#D9D3D0" points="1035.8579,1213.1484,1025.8579,1217.1484,1035.8579,1221.1484,1031.8579,1217.1484" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170.5298" x="1091.6338" y="1104.623">Algoritmo de Matching:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="290.0815" x="1031.8579" y="1120.4224">- Identifica contenedores vac&#237;os post-import</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="214.2524" x="1069.7725" y="1136.2217">- Busca &#243;rdenes export cercanas</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207.3652" x="1073.2161" y="1152.021">- Calcula proximidad geogr&#225;fica</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="214.6587" x="1069.5693" y="1167.8203">- Verifica compatibilidad de tipos</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="191.6929" x="1081.0522" y="1183.6196">- Valida ventanas temporales</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="215.9473" x="1068.925" y="1199.4189">- Aplica restricciones de navieras</text><line style="stroke:#D9D3D0;stroke-width:1;" x1="1024.8579" x2="1066.8579" y1="1310.145" y2="1310.145"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1066.8579" x2="1066.8579" y1="1310.145" y2="1323.145"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1025.8579" x2="1066.8579" y1="1323.145" y2="1323.145"/><polygon fill="#D9D3D0" points="1035.8579,1319.145,1025.8579,1323.145,1035.8579,1327.145,1031.8579,1323.145" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="201.1128" x="1036.9805" y="1242.2183">Optimizaci&#243;n Multiobjetivo:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204.9277" x="1035.073" y="1258.0176">- Minimizar coste de transporte</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="211.3579" x="1031.8579" y="1273.8169">- Minimizar tiempo de operaci&#243;n</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="174.8335" x="1050.1201" y="1289.6162">- Minimizar emisiones CO2</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.1069" x="1037.9834" y="1305.4155">- Maximizar tasa de utilizaci&#243;n</text><path d="M1029,1336.145 L1029,1424.145 L1248,1424.145 L1248,1346.145 L1238,1336.145 L1029,1336.145 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M1238,1336.145 L1238,1346.145 L1248,1346.145 L1238,1336.145 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198.1294" x="1035" y="1354.2148">Algoritmos de b&#250;squeda local:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92.1743" x="1035" y="1370.0142">- Tabu Search</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="145.063" x="1035" y="1385.8135">- Simulated Annealing</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.9048" x="1035" y="1401.6128">- Late Acceptance</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="195.292" x="1035" y="1417.4121">Hasta convergencia o timeout</text><line style="stroke:#D9D3D0;stroke-width:1;" x1="1024.8579" x2="1066.8579" y1="1467.7402" y2="1467.7402"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1066.8579" x2="1066.8579" y1="1467.7402" y2="1480.7402"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="1025.8579" x2="1066.8579" y1="1480.7402" y2="1480.7402"/><polygon fill="#D9D3D0" points="1035.8579,1476.7402,1025.8579,1480.7402,1035.8579,1484.7402,1031.8579,1480.7402" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="180.6416" x="1043.5122" y="1447.2114">Genera soluci&#243;n optimizada</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="203.9502" x="1031.8579" y="1463.0107">con scoring por recomendaci&#243;n</text><polygon fill="#D9D3D0" points="464.3232,1711.9307,454.3232,1715.9307,464.3232,1719.9307,460.3232,1715.9307" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="1018.8579" y1="1715.9307" y2="1715.9307"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158.6787" x="657.2512" y="1505.8101">JSON recomendaciones:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="733.6389" y="1521.6094">[</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="8.252" x="737.0349" y="1537.4087">{</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134.5894" x="678.4365" y="1553.208">recommendation_id,</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="110.627" x="690.4177" y="1569.0073">import_order_id,</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.8525" x="690.8049" y="1584.8066">export_order_id,</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="85.5664" x="702.948" y="1600.606">container_id,</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.4766" x="674.9929" y="1616.4053">ruta_propuesta: [...],</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="238.6973" x="626.3826" y="1632.2046">ahorro_estimado: {coste, km, co2},</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166.772" x="662.3452" y="1648.0039">confidence_score: 0-100,</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="272.4414" x="609.5105" y="1663.8032">motivo: "matching directo import-export"</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="12.981" x="734.6704" y="1679.6025">},</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="14.187" x="734.0674" y="1695.4019">...</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="733.6389" y="1711.2012">]</text><rect fill="#003153" height="3" style="stroke:#003153;stroke-width:1;" width="1524.814" x="5" y="1744.8303"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="1744.8303" y2="1744.8303"/><line style="stroke:#D9D3D0;stroke-width:0.5;" x1="5" x2="1529.814" y1="1747.8303" y2="1747.8303"/><rect fill="#003153" height="23.7993" style="stroke:#D9D3D0;stroke-width:1;" width="244.7754" x="645.0193" y="1733.9307"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="226.332" x="651.0193" y="1751.0005">Almacenamiento y Notificaci&#243;n</text><polygon fill="#D9D3D0" points="889.8799,1801.3286,899.8799,1805.3286,889.8799,1809.3286,893.8799,1805.3286" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="895.8799" y1="1805.3286" y2="1805.3286"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.375" x="593.9141" y="1784.7998">INSERT recomendaciones</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="148.478" x="603.3625" y="1800.5991">con estado "PENDING"</text><path d="M916,1818.3286 L916,1922.3286 L1129,1922.3286 L1129,1828.3286 L1119,1818.3286 L916,1818.3286 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M1119,1818.3286 L1119,1828.3286 L1129,1828.3286 L1119,1818.3286 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192.5688" x="922" y="1836.3984">Cada recomendaci&#243;n incluye:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137.3252" x="922" y="1852.1978">- Matching espec&#237;fico</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104.8633" x="922" y="1867.9971">- Ruta detallada</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.502" x="922" y="1883.7964">- Impacto estimado</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.6909" x="922" y="1899.5957">- Confidence score</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="179.499" x="922" y="1915.395">- Timestamp de generaci&#243;n</text><polygon fill="#D9D3D0" points="464.3232,1961.7231,454.3232,1965.7231,464.3232,1969.7231,460.3232,1965.7231" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="905.8799" y1="1965.7231" y2="1965.7231"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="206.5718" x="576.8157" y="1945.1943">Recomendaciones almacenadas</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="181.6572" x="589.2729" y="1960.9937">[{recommendation_id, ...}]</text><polygon fill="#D9D3D0" points="1326.9395,2023.1211,1336.9395,2027.1211,1326.9395,2031.1211,1330.9395,2027.1211" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="1332.9395" y1="2027.1211" y2="2027.1211"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="180.8003" x="805.7312" y="1990.793">Notificaci&#243;n en tiempo real:</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="242.9692" x="774.6467" y="2006.5923">Nuevas recomendaciones disponibles</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="212.2275" x="790.0176" y="2022.3916">{"count": N, "timestamp": "..."}</text><path d="M1353,2040.1211 L1353,2097.1211 L1524,2097.1211 L1524,2050.1211 L1514,2040.1211 L1353,2040.1211 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M1514,2040.1211 L1514,2050.1211 L1524,2050.1211 L1514,2040.1211 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.7539" x="1359" y="2058.1909">Notificaci&#243;n push a</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="150.814" x="1359" y="2073.9902">operadores conectados</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104.7744" x="1359" y="2089.7896">en el dashboard</text><polygon fill="#D9D3D0" points="464.3232,2120.3184,454.3232,2124.3184,464.3232,2128.3184,460.3232,2124.3184" style="stroke:#D9D3D0;stroke-width:1;"/><line style="stroke:#D9D3D0;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="458.3232" x2="1342.9395" y1="2124.3184" y2="2124.3184"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="26.9712" x="885.1458" y="2119.5889">ACK</text><line style="stroke:#D9D3D0;stroke-width:1;" x1="453.3232" x2="495.3232" y1="2159.1177" y2="2159.1177"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="495.3232" x2="495.3232" y1="2159.1177" y2="2172.1177"/><line style="stroke:#D9D3D0;stroke-width:1;" x1="448.3232" x2="495.3232" y1="2172.1177" y2="2172.1177"/><polygon fill="#D9D3D0" points="458.3232,2168.1177,448.3232,2172.1177,458.3232,2176.1177,454.3232,2172.1177" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="290.8052" x="460.3232" y="2154.3882">Log: Optimizaci&#243;n completada exitosamente</text><path d="M128,2180.1177 L128,2221.1177 L1389,2221.1177 L1389,2190.1177 L1379,2180.1177 L128,2180.1177 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><path d="M1379,2180.1177 L1379,2190.1177 L1389,2190.1177 L1379,2180.1177 " fill="#003153" style="stroke:#D9D3D0;stroke-width:1;"/><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="276.7324" x="615.8826" y="2198.1875">Las recomendaciones est&#225;n listas para ser</text><text fill="#D9D3D0" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="249.2788" x="615.8826" y="2213.9868">revisadas por los operadores (Flujo 3)</text><!--SRC=[XLTDSzis4BthLsnrYZrIcZWtpQGpikmaRct7ZJpj8Sfe81Acq8002u2kMoS_9ZyWfznwrH_hMu0KAJb9BnvhyVLsz-tRvGzXBKj9ArtBoYaJ1lwzCfLmeYGdVMMDbnVIUr78OwdjNrFdx5yKN2rx6xtyivOcQpTEjIeCPT84wGQ3e8AMz4BNVrWwcj1BQQGJcTfyCPHBUYCpMqgJmsADz6nwNGLLgd_Idi40JmILgKgOGCDhfuf2keMPszfbSaZ2KsFRtJYzEbkO5xN90kwDss0Pv2A8bV2IXbVMXyB9-Q_dSV7aUEyTLSeRg_E5EJM5Cd9X7isqhNDwKvk3z6gpO_VSxtArCDEgqYeJsvTXX6amUFwSfi1pk_LUquKDrZrmcfu_7moC3PBihNHR1ubEDPNnH5LB71BnDWT_yECPtLXN2Z_1lgUFwV1mMWTRRZu1d3qydE0MG56ca3u8tdzryiBJevINfmSuTCI7BeIfXURzSmidL83Fs6mh92t7mys1PtpW6H-uaWwGy-QH5AHvjfPvhG7zKULi0OhWxC40QIRsQZ1eFABnJvoM2Lszdb_JZo5PnxQ91GTmOUw7JWgFK4veAE3IXp92_E2RH_BXnq4A1EB5IUv5ZdyI_wLZaRtdzpDhNQwC8Acn0dIPz3Pvs6TT1nL9OuvMIdUadLbG-oxOc2U-7NwS72Daf-UdislQV76vP3BBkygwG1LkKrmDlWCAmfqSqxWDmBdYhEmTN9YtzoeVKQRZwH7LAz0geXXHK9LTPWp4I2HcH3SoMukbtdmk5Uzz_FZnntTVGzUTmKFWukQpHTafBdMrqj9F5cPCfuPGl2K21GizEXOeDcsD6D6b5GhFJmjhCgMr7T65SW85VC3dkAp6genkIzC2RYkxSSJlk3uFDdiVLxy2h0q1UxlhFzCuXys8MmLkViVXRu1O63oO-22Do54SBw_cEyXclRL2WiURJpUuAe9gRbaoE2q2_bY0ofMJMGFmctWW69jFfGpE-WV4WyvK8AGViVYY7hA46wwNAyUvEDX3Q6vKKVVqTE-sUxuDDF5CYVX_KBBaM3OBHtX9vCekIn6oDUG1_zmby8D1BljyvL8uCxSsUw1VhHRsww6rjSNT08EItYyCaKrCNoQcJ-WjNdmtufK-3PQibTRtbtlPdD0zuupcs8XYJ1lhmlHaOIlMIHkWC-j0zgQpKwV4kq8GyI0J87qOS-l8awdp6Je9gUcBMxko4uLPlAREkjX1V51lfOW5zvjmId3vCOHSPigd18xfbN1v3uHdszpUXBxjMu-Y2UZ2EXNAg74NJOudXuTyonbI41HJ-kkYK7N5pDkFQvyzq2YqUPS98oAicT1PhGLxTeSOvYBlrqrq4zsYUR2i8F0hfUCsWECIzoaKRADRWEEB8KGCWSdFgzFOMtVBWuytEl2TKEoss8jQex-i_f2WY6q2Sg5CtE4eLan41MtpxAZStP3AQDiQipPRtGvP8eSHtUprKLmIT-rXuMCBhWFStmuwtwJcDeVHqTNcNuzn2n7IA4NDxNvCrs9Lqrn2fjVnzroLI4IGEKsDaGYeAQBzF3R9B9CLOfj9s5u9xZp8FqXSO8XJWYoyAwMjm_-IEWrpvAskKrJRuib5abUV0RafG2M7b6r7lUXlTsKhPp_FNr_sjyKYXzfoWKVLeBGQbtawOFbDzaJJ9SkAwwo9e_jM9ZlAfczoTH1Bq1Pp5SBHrniYiROOUfTOK3p7G5yQFNrVeZVReu_TjJSgvpbuoMxB2JqPFttof5d5tCP4es4hjAbPO8X8qCS9wv1tfni1OM7UzKMuap4U9NKfC6EBaXkHfR_HcLCnToDah_USNSvFtrpl1pSbARLIpCIdboTdbo-7ErFABYjX89HvBlQoYS4oq_NVCh6nrHdSN4be2L3PkF2cZhDd45hZZcWwWmvm5DhmHkDi6yh889au3k-1jAou2ehkCw9ZQRyrxdzOY2PSUUhV3tdKDEozdjU4C8tmaxqOOy9fT00ZgWPJBsjv2yLo-nyrtNJ5ysncQnCmpbwEQ1XQftYy1OB-CDjyD-nce37I7fIgzclYYBQJEfv5Ra4m_F2m0ojw3hnVhomwIXUqT64NkEdibtuGse-N9X1fMhN5PE-BXVLS8x5WXhnJmNfqOyF2qRjgRpXlFW96dKldNuaTehFvP4ZpWEnZcyVd9dyBENchV9pDM5mqnB7dUlUPilNpFm00]--></g></svg>